<form
  class="example-form"
  [formGroup]="formGroup"
  (ngSubmit)="onFormSubmit()"
  ngNativeValidate
>
  <div class="container mt-5 mb-4">
    <div class="row">
      <div class="col">
        <div class="row">
          <div class="col-12 col-md-6">
            <mat-form-field hintLabel="Max 10 characters" appearance="fill">
              <mat-label>Nombre</mat-label>
              <input
                matInput
                #input
                maxlength="10"
                placeholder="Ex. Nougat"
                required
                formControlName="nombre"
              />
              <mat-hint align="end">{{ input.value?.length || 0 }}/20</mat-hint>
            </mat-form-field>
          </div>
          <div class="col-12 col-md-6">
            <mat-form-field appearance="fill">
              <mat-label>Correo</mat-label>
              <input
                matInput
                placeholder="pat@example.com"
                [formControl]="email"
                required
                formControlName="correo"
              />
              <mat-error *ngIf="email.invalid">{{
                getErrorMessage()
              }}</mat-error>
            </mat-form-field>
          </div>
          <div class="col-12 col-md-6">
            <mat-form-field hintLabel="Max 10 characters" appearance="fill">
              <mat-label>Cédula</mat-label>
              <input
                matInput
                #input
                maxlength="10"
                placeholder="Ex. Nougat"
                required
                formControlName="cedula"
              />
              <mat-hint align="end">{{ input.value?.length || 0 }}/10</mat-hint>
            </mat-form-field>
          </div>
          <div class="col-12 col-md-6">
            <mat-form-field appearance="fill">
              <mat-label>Valor Prestamo</mat-label>
              <input
                matInput
                type="number"
                class="example-right-align"
                required
                formControlName="valorPrestamo"
                [(ngModel)]="valorPrestamo"
                [value]="(creditValue$ | async)?.newValue "
              />
              <span matPrefix>$&nbsp;</span>
              <span matSuffix>.00</span>
            </mat-form-field>
            <p>{{ (creditValue$ | async)?.newValue }}</p>
          </div>
          <div class="col-12 col-md-6">
            <mat-form-field appearance="fill">
              <mat-label>Fecha pagar</mat-label>
              <input
                matInput
                [matDatepicker]="picker"
                formControlName="fechaPagar"
              />
              <mat-datepicker-toggle
                matSuffix
                [for]="picker"
              ></mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>
          </div>
          <div class="col-12 col-md-6">
            <mat-slide-toggle formControlName="estadoCredit" class="slideStyle"
              >Estado de credito</mat-slide-toggle
            >
          </div>
          <div class="col-12 col-md-6">
            <mat-slide-toggle formControlName="pagoCredito" class="slideStyle"
              >Pago Credito</mat-slide-toggle
            >
          </div>
        </div>
      </div>
    </div>

    <div class="row mt-3" *ngIf="alert" >
      <div class="col">
        <div class="alert alert-danger" role="alert">
          No puede volver a solicitar créditos.
        </div>
      </div>
    </div>
     <div class="row mt-3" *ngIf="alertSuccess" >
      <div class="col">
        <div class="alert alert-success" role="alert">
          El usuario fue grabado correctamente
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-12">
        <button
          type="button"
          class="btn btn-outline-secondary btn-block m-4"
          type="submit"
        >
          Enviar
        </button>
      </div>
    </div>
  </div>
</form>
